# ============================
# Shadowrocket 转换版（由 QuantumultX 懒人配置转换）
# 原作者: w37fhy（2024/06/02）
# 说明: 把远程 RULE-SET 保留为原始 raw.github 链接（大多数为域名列表）
# ============================

[General]
# 可按需调整（DNS/IPv6 等在 Shadowrocket 客户端设置也可以）
dns-server = 119.29.29.29, 114.114.114.114
ipv6 = false

[Proxy]
# 请在 Shadowrocket 应用中添加你的代理节点（或订阅），这里不写死节点
# 示例（不要直接复制到 Shadowrocket，直接在 App 中添加节点）：
# VMESS, node01.node-ip.top, 47228, username=..., password=...
# Shadowsocks, hk03.node-ip.top, 33129, encrypt-method=aes-256-gcm, password=...

[Proxy Group]
# 把 QuantumultX 的 policy 对应为 Shadowrocket 的代理组
🚀 节点选择 = select,♻️ 自动选择,🇭🇰 香港节点,🇨🇳 台湾节点,🇯🇵 日本节点,🇰🇷 韩国节点,🇸🇬 新加坡节点,🇺🇲 美国节点,🇩🇪 德国节点,🇬🇧 英国节点,🇳🇱 荷兰节点,REJECT,DIRECT,interval=600,timeout=5,select=1,url=http://www.gstatic.com/generate_204
👋 手动切换 = select, interval=600, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=*
♻️ 自动选择 = url-test,url=http://www.gstatic.com/generate_204,interval=600,tolerance=80,timeout=5,select=0,policy-regex-filter=*

🇭🇰 香港节点 = url-test, interval=600, tolerance=80, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇭🇰|港|HK|(?i)HongKong|(?i)Hong))^((?!(台|日|韩|新|美|德|英|荷|狮城|南朝鲜|US|SG|JP|KR|TW|DE|UK|NL|台灣|美國|韓國|獅城)).)*$

🇨🇳 台湾节点 = url-test, interval=600, tolerance=80, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇨🇳|台|TW|(?i)Taiwan|台灣))^((?!(港|日|韩|新|美|德|英|荷|狮城|南朝鲜|US|SG|JP|KR|HK|DE|UK|NL|美國|韓國|獅城)).)*$

🇯🇵 日本节点 = url-test, interval=600, tolerance=80, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇯🇵|日|JP|(?i)Japan|东京|大阪))^((?!(港|台|韩|新|美|德|英|荷|狮城|南朝鲜|US|SG|KR|HK|TW|DE|UK|NL)).)*$

🇰🇷 韩国节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇰🇷|KR|KOR|(?i)Korea|韩国|南朝鲜|首尔|韓))^((?!(港|台|日|新|美|德|英|荷|狮城|US|SG|JP|HK|TW|DE|UK|NL)).)*$

🇸🇬 新加坡节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇸🇬|新加坡|狮城|SG|(?i)Singapore))^((?!(港|台|日|韩|美|德|英|荷|南朝鲜|US|JP|KR|HK|TW|DE|UK|NL)).)*$

🇺🇲 美国节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇺🇸|美|US|USA|(?i)UnitedStates|(?i)America|洛杉矶|西雅图|硅谷))^((?!(港|台|日|韩|新|德|英|荷|狮城|南朝鲜|SG|JP|KR|HK|TW|DE|UK|NL|韓國|台灣|獅城)).)*$

🇩🇪 德国节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇩🇪|德|DE|(?i)Germany|柏林|法兰克福))^((?!(港|台|日|韩|新|美|英|荷|狮城|南朝鲜|US|SG|JP|KR|HK|TW|UK|NL)).)*$

🇬🇧 英国节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇬🇧|英|UK|(?i)UnitedKingdom|(?i)Britain|London|伦敦))^((?!(港|台|日|韩|新|美|德|荷|狮城|南朝鲜|US|SG|JP|KR|HK|TW|DE|NL)).)*$

🇳🇱 荷兰节点 = url-test, interval=600, tolerance=100, timeout=5, select=0, url=http://www.gstatic.com/generate_204, policy-regex-filter=(?=.*(🇳🇱|荷|NL|(?i)Netherlands|Amsterdam|阿姆斯特丹))^((?!(港|台|日|韩|新|美|德|英|狮城|南朝鲜|US|SG|JP|KR|HK|TW|DE|UK)).)*$

[Proxy Group]

# TikTok
🎵 TikTok = select, DIRECT, 🚀 节点选择, ♻️ 自动选择, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/TikTok.png

# OpenAI
🤖 OpenAI = select, DIRECT, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, 🚀 节点选择, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Bot.png

# Netflix
🎬 Netflix = select, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, 🚀 节点选择, server-tag-regex=(?i)(nf|解锁NF|奈|Netflix), check-interval=600, tolerance=100, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Netflix.png

# Google
🌍 Google = select, 🚀 节点选择, ♻️ 自动选择, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, PROXY, DIRECT, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Google.png

# Telegram
✈️ Telegram = select, 🚀 节点选择, ♻️ 自动选择, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, PROXY, DIRECT, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Telegram.png

# 加密货币
₿ 加密货币 = select, 🚀 节点选择, ♻️ 自动选择, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, PROXY, DIRECT, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Bitcloud.png

# 漏网之鱼
🐟 漏网之鱼 = select, 🚀 节点选择, ♻️ 自动选择, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇰🇷 韩国节点, 🇸🇬 新加坡节点, 🇺🇲 美国节点, 🇩🇪 德国节点, 🇬🇧 英国节点, 🇳🇱 荷兰节点, PROXY, DIRECT, img-url=https://raw.githubusercontent.com/Orz-3/mini/master/Color/Final.png


[Rule]
# ---------- 远程 RULE-SET（已按你要求映射到指定策略组名称） ----------
# OpenAI / AI 相关（全部走 🤖 OpenAI 策略组）
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/OpenAI/OpenAI.list,🤖 OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/BardAI/BardAI.list,🤖 OpenAI
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Claude/Claude.list,🤖 OpenAI

# TikTok 分流（走 🎵 TikTok 策略组）
RULE-SET,https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok.list,🎵 TikTok

# Unbreak 后续规则修正（直连）
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Unbreak.list,DIRECT

# 广告 / 隐私 / 劫持 拦截（全部投 REJECT 策略组）
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Advertising.list,REJECT
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Tracking.list,REJECT
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Hijacking.list,REJECT

# 微信直连（直连）
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/WeChat/WeChat.list,DIRECT

# NobyDa 去广告（原文件默认关闭；已放出，按需手动启用）
# 注意：原 QX 配置默认 disabled；如果你想启用，请取消下面的注释（在 Shadowrocket 内启用该 RULE-SET）
# RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/AdRule.list,REJECT

# 加密货币分流
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Cryptocurrency,₿ 加密货币

# Telegram 分流
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Telegram/Telegram.list,✈️ Telegram

# Netflix 分流
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Netflix/Netflix.list,🎬 Netflix

# Google / Streaming / Global / China 列表
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Google/Google.list,🌍 Google
RULE-SET,https://raw.githubusercontent.com/w37fhy/QuantumultX/master/Rules/Streaming.list,🚀 节点选择
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/Global/Global.list,🚀 节点选择
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/China/China.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/QuantumultX/ChinaIPs/ChinaIPs.list,DIRECT

# ---------- 本地规则（等价转换自 filter_local） ----------
# 拦截 / 策略组指向（请保持策略组名称一致）
DOMAIN-SUFFIX,sentry.io,REJECT
DOMAIN-KEYWORD,exitgames.com,🚀 节点选择
DOMAIN-SUFFIX,bnbstatic.com,🚀 节点选择
DOMAIN-SUFFIX,local,DIRECT

# 局域网 / 内网直连
IP-CIDR,192.168.0.0/16,DIRECT
IP-CIDR,10.0.0.0/8,DIRECT
IP-CIDR,172.16.0.0/12,DIRECT
IP-CIDR,127.0.0.0/8,DIRECT
IP-CIDR,100.64.0.0/10,DIRECT
IP-CIDR,224.0.0.0/4,DIRECT
IP6-CIDR,fe80::/10,DIRECT

# 可选：中国 IP 直连（原配置注释掉了 GEOIP，这里保留，按需启用）
GEOIP,CN,DIRECT

# FINAL / 兜底（未命中的流量走 “🐟 漏网之鱼” 策略组）
FINAL,🐟 漏网之鱼


[URL Rewrite]
# Rewrite remote（请在 Shadowrocket 的 Rewrite 或 Remote Rewrite 功能中导入下面链接）
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-TW.conf
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-JP.conf
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-KR.conf
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Quantumult-X/TikTok-US.conf
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.quanx.tf.conf
https://raw.githubusercontent.com/w37fhy/QuantumultX/master/QuantumultX_JS.conf
https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/TestFlightDownload.conf
https://raw.githubusercontent.com/Orz-3/QuantumultX/master/YouTube.conf
https://raw.githubusercontent.com/w37fhy/QuantumultX/master/QuantumultX_Cookie.conf
https://raw.githubusercontent.com/qiangxinglin/Emby/main/QuantumultX/emby.conf


^https?:\/\/(www.)?(g|google)\.cn url 302 https://www.google.com

